in  â† >â€¢FLines"12.in"
l   â† â‰ â¥Šin
_fp â† {ğ”½âˆ˜âŠ¢âŸâ‰¢âŸœğ”½_ğ•£âˆ˜âŠ¢âŸâ‰¢âŸœğ”½ğ•©}
z   â† (â‰¢in)â¥Š0
d   â† âŠ¢â€¿Â»â€¿Â«â€¿(Â«Ë˜)â€¿(Â»Ë˜)
Pad â† {â‰0âŠ¸âˆ¾âˆ˜âˆ¾âŸœ0Ë˜â‰0âŠ¸âˆ¾âˆ˜âˆ¾âŸœ0Ë˜ğ•©}
P   â† {ğ•©{ğ•©Ã—ËœÂ¬ğ•¨Â¬Ã—ğ•©}(+Â´ğ•©âŠ¸{ğ•ğ•¨}Â¨1â†“d)}âˆ˜Pad
Pt  â† {1âŠ¸Â»âŒ¾(ğ•©âŠ¸â†“â¥Š)z}
FF  â† {ğ•Šp: p âˆ¨ âˆ¨Â´{(in = ğ•in) âˆ§ ğ•p}Â¨d}_fp

a â† z
{
  m â†  (Â¬Ã—a)Ã—Pt ğ•©
  a âˆ¨â†© (1+ğ•©)Ã—FF m
  ğ•© + 1
}â€¢_while_{ğ•©<l} 0

as     â† =âŸœaÂ¨â·âˆ¾<Ë˜a
star1  â† +Â´((+Â´+Ëâˆ˜P)Ã—(+Â´+Ë))Â¨as

# silly things again
# finds corners (==sides) in a brute forcey manner
antic  â† âŸ¨[0â€¿0,0â€¿0],[0â€¿0,1â€¿1],[1â€¿1,0â€¿0],[1â€¿0,1â€¿0],[0â€¿1,0â€¿1],[1â€¿1,1â€¿1]âŸ©
double â† âŸ¨[1â€¿0,0â€¿1],[0â€¿1,1â€¿0]âŸ©
Corner â† {(+Â´â‰¡âŸœğ•©Â¨double) + Â¬+Â´â‰¡âŸœğ•©Â¨antic}
Sides  â† {Cornerâ‰2 2â€¿2â†•Pad ğ•©}

star2  â† +Â´((+Â´+Ëâˆ˜Sides)Ã—(+Â´+Ë))Â¨as
