in â† >â€¢FLines"4.in"

Diagonals â† {ğ•Ša: (0â€¿0âŠ¸â‰Â¨{Â«Ë˜âŸğ•© a}Â¨â†•â‰ a) âˆ¾ 1â†“0â€¿0âŠ¸â‰Â¨{Â»Ë˜âŸğ•© a}Â¨â†•â‰ a}

# star 1
inputs â† inâ€¿(âŒ½Ë˜in)â€¿(â‰in)â€¿(âŒ½Ë˜â‰in)
dâ†(âŒ½Â¨Ë˜âˆ¾âŠ¢)âˆ¾DiagonalsÂ¨2â†‘inputs
+Â´+Ë"XMAS"âŠ¸â·Ë˜âˆ¾inputsâˆ¾d

# star 2
# build filtering matrix for the X shape
mâ†âˆ˜â€¿3â¥Š1â€¿0â€¿1â€¿0â€¿1â€¿0â€¿1â€¿0â€¿1
F â† " XMAS"âŠ¸âŠ

# build the shapes we want to find
mass â† {ğ•©â€¿(âŒ½Ë˜ğ•©)â€¿(â‰ğ•©)â€¿(â‰âŒ½Ë˜ğ•©)} F>"M S"â€¿" A "â€¿"M S"

# split the input matrix into 3x3 chunks
# and search for the shapes we're interested in
+Â´+Ë+Ë{ğ•©âŠ¸â‰¡Â¨mass}Ë˜Ë˜mâŠ¸Ã—âˆ˜FË˜Ë˜3â€¿3â†•in
